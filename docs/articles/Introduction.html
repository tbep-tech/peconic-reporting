<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction • pepreporting</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pepreporting</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Introduction.html">Introduction</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Introduction_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="Introduction_files/jquery-1.12.4/jquery.min.js"></script><link href="Introduction_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="Introduction_files/leaflet-1.3.1/leaflet.js"></script><link href="Introduction_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="Introduction_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="Introduction_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="Introduction_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="Introduction_files/leaflet-binding-2.0.3/leaflet.js"></script><script src="Introduction_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="Introduction_files/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script><link href="Introduction_files/HomeButton-0.0.1/home-button.css" rel="stylesheet">
<script src="Introduction_files/HomeButton-0.0.1/home-button.js"></script><script src="Introduction_files/HomeButton-0.0.1/easy-button-src.min.js"></script><link href="Introduction_files/PopupTable-0.0.1/popup.css" rel="stylesheet">
<script src="Introduction_files/core-js-2.5.3/shim.min.js"></script><script src="Introduction_files/react-16.12.0/react.min.js"></script><script src="Introduction_files/react-16.12.0/react-dom.min.js"></script><script src="Introduction_files/reactwidget-1.0.0/react-tools.js"></script><script src="Introduction_files/reactable-binding-0.1.0.1/reactable.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction</h1>
            
      
      
      <div class="hidden name"><code>Introduction.Rmd</code></div>

    </div>

    
    
<p>The following shows all functions provided in pepreporting, organized by prefix.</p>
<div id="read" class="section level4">
<h4 class="hasAnchor">
<a href="#read" class="anchor"></a>Read</h4>
<ul>
<li>
<code><a href="../reference/read_pepwq.html">read_pepwq()</a></code>: Load local water quality file</li>
</ul>
</div>
<div id="analyze" class="section level4">
<h4 class="hasAnchor">
<a href="#analyze" class="anchor"></a>Analyze</h4>
<ul>
<li><p><code><a href="../reference/anlz_attainpep.html">anlz_attainpep()</a></code>: Get attainment categories</p></li>
<li><p><code><a href="../reference/anlz_medpep.html">anlz_medpep()</a></code>: Estimate annual medians</p></li>
</ul>
</div>
<div id="show" class="section level4">
<h4 class="hasAnchor">
<a href="#show" class="anchor"></a>Show</h4>
<ul>
<li><p><code>show_boxpep()</code>: Plot monthly chlorophyll or secchi depth values for a bay segment</p></li>
<li><p><code>show_matrixpep()</code>: Create a colorized table for indicator reporting</p></li>
<li><p><code>show_reactablepep()</code>: Create a reactable table for reporting matrices, used internally only</p></li>
<li><p><code>show_thrpep()</code>: Plot annual water quality values and thresholds for a bay segment</p></li>
</ul>
</div>
<div id="basic-use" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-use" class="anchor"></a>Basic use</h2>
<p>The package includes a <code>pepstations</code> data object that includes metadata for each station, including lat/lon and bay segment.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">prj &lt;-<span class="st"> </span><span class="dv">4326</span></a>
<a class="sourceLine" id="cb1-2" title="2">locs &lt;-<span class="st"> </span>pepstations <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="st">  </span><span class="kw">st_as_sf</span>(<span class="dt">coords =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'Longitude'</span>, <span class="st">'Latitude'</span>), <span class="dt">crs =</span> prj)</a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">mapview</span>(locs, <span class="dt">zcol =</span> <span class="st">'bay_segment'</span>, <span class="dt">layer.name =</span> <span class="st">'Bay segment'</span>)            </a></code></pre></div>
<div id="htmlwidget-e5511d0273b1da008fb1" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-e5511d0273b1da008fb1">{"x":{"options":{"minZoom":1,"maxZoom":100,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",1,"CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter",2,"CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenStreetMap",3,"OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",4,"Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenTopoMap",5,"OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[40.917283,40.917,40.9176,40.91776,40.918183,40.917933,40.924067,40.921667,40.92935,40.913883,40.938333,40.922783,40.943617,40.936383,40.900217,40.911667,41.00195,41.008883,40.975833,40.942783,40.955267,41.027717,41.052717,41.059117,40.9941,40.99625,41.05,41.076383,41.082217,41.013333,41.045283,41.063583,41.0055,41.00778,41.106267,41.077983,41.010367,41.0275,41.1144,41.081383,41.13445,41.02055,41.098017,41.025,41.010283,41.064167],[-72.655567,-72.65115,-72.645583,-72.63891,-72.639241,-72.631917,-72.63225,-72.61945,-72.6199,-72.615,-72.618617,-72.587217,-72.570833,-72.512217,-72.459083,-72.443617,-72.460283,-72.460283,-72.42945,-72.414717,-72.399483,-72.433367,-72.414,-72.414233,-72.367833,-72.349817,-72.376667,-72.40055,-72.4025,-72.34445,-72.347217,-72.359317,-72.3074,-72.2955,-72.354867,-72.311617,-72.252517,-72.26,-72.317483,-72.27305,-72.271383,-72.18195,-72.203667,-72.139167,-72.054167,-71.927783],6,null,"Bay segment",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":2,"opacity":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"fill":true,"fillColor":["#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#440154","#21908C","#21908C","#21908C","#21908C","#21908C","#21908C","#21908C","#21908C","#21908C","#21908C","#21908C","#21908C","#21908C","#FDE725","#FDE725","#FDE725","#FDE725","#FDE725","#FDE725","#FDE725","#FDE725","#FDE725","#FDE725","#FDE725","#FDE725","#FDE725"],"fillOpacity":[0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6]},null,null,["<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60280&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Peconic River&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60275&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Peconic River&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>3&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60270&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Peconic River&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60265&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Peconic River&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>5&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60266&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Peconic River&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>6&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60260&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Peconic River&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>7&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60250&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Sawmill Creek&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>8&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60240&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Peconic River Mouth&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>9&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60230&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Terrys Creek&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>10&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60210&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Reeves Bay&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>11&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60220&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Meetinghouse Creek&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>12&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60170&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Flanders Bay&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>13&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60101&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>East Creek (South Jamesport)&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>14&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60130&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Great Peconic Bay&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>15&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60290&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Cold Spring Pond&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>16&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60148&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Bullhead Bay&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>17&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60102&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Cutchogue Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>18&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60103&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>East Creek (Cutchogue)&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>19&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60113&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Little Peconic Bay&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>20&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60104&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>North Sea Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Western&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>21&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60300&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Wooley Pond&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>22&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60105&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Hog Neck Bay North&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>23&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60106&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Goose Creek&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>24&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60107&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Town Creek&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>25&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60310&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Noyac Creek&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>26&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60320&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Mill Creek&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>27&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60114&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Paradise Point&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>28&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60109&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Mill Creek (Hashamomuck Pond)&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>29&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60340&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Hashamomuck Pond 1&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>30&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60121&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Noyac Bay&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>31&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60124&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>West Neck Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>32&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60119&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>West Neck Bay&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>33&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60127&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Sag Harbor Cove&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Central&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>34&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60126&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Sag Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>35&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60111&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Greenport Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>36&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60122&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Coecles Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>37&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60131&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Northwest Creek&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>38&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60118&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Northwest Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>39&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60115&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Orient Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>40&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60116&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Gardiner's Bay West&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>41&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60330&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Hallocks Bay&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>42&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60132&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Three Mile Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>43&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60137&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Gardiner's Bay Central&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>44&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60133&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Acabonac Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>45&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60134&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Napeague Harbor&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>46&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>BayStation&emsp;<\/b><\/td><td align='right'>60135&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>StationName&emsp;<\/b><\/td><td align='right'>Lake Montauk&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>bay_segment&emsp;<\/b><\/td><td align='right'>Eastern&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Western","Central","Central","Central","Central","Central","Central","Central","Central","Central","Central","Central","Central","Central","Eastern","Eastern","Eastern","Eastern","Eastern","Eastern","Eastern","Eastern","Eastern","Eastern","Eastern","Eastern","Eastern"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-72.655567,40.900217,-71.927783,41.13445,"Zoom to Bay segment","<strong> Bay segment <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],"Bay segment",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#440154","#21908C","#FDE725"],"labels":["Western","Central","Eastern"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"Bay segment","extra":null,"layerId":null,"className":"info legend","group":"Bay segment"}]}],"limits":{"lat":[40.900217,41.13445],"lng":[-72.655567,-71.927783]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      //map.on('click', function (e) {\n      //  var txt = document.querySelector('.lnlt').textContent;\n      //  console.log(txt);\n      //  //txt.innerText.focus();\n      //  //txt.select();\n      //  setClipboardText(txt);\n      //});\n\n      function setClipboardText(text){\n      var id = 'mycustom-clipboard-textarea-hidden-id';\n      var existsTextarea = document.getElementById(id);\n\n      if(!existsTextarea){\n      console.log('Creating textarea');\n      var textarea = document.createElement('textarea');\n      textarea.id = id;\n      // Place in top-left corner of screen regardless of scroll position.\n      textarea.style.position = 'fixed';\n      textarea.style.top = 0;\n      textarea.style.left = 0;\n\n      // Ensure it has a small width and height. Setting to 1px / 1em\n      // doesn't work as this gives a negative w/h on some browsers.\n      textarea.style.width = '1px';\n      textarea.style.height = '1px';\n\n      // We don't need padding, reducing the size if it does flash render.\n      textarea.style.padding = 0;\n\n      // Clean up any borders.\n      textarea.style.border = 'none';\n      textarea.style.outline = 'none';\n      textarea.style.boxShadow = 'none';\n\n      // Avoid flash of white box if rendered for any reason.\n      textarea.style.background = 'transparent';\n      document.querySelector('body').appendChild(textarea);\n      console.log('The textarea now exists :)');\n      existsTextarea = document.getElementById(id);\n      }else{\n      console.log('The textarea already exists :3')\n      }\n\n      existsTextarea.value = text;\n      existsTextarea.select();\n\n      try {\n      var status = document.execCommand('copy');\n      if(!status){\n      console.error('Cannot copy text');\n      }else{\n      console.log('The text is now on the clipboard');\n      }\n      } catch (err) {\n      console.log('Unable to copy.');\n      }\n      }\n\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script><p>The water quality data can be imported using the <code><a href="../reference/read_pepwq.html">read_pepwq()</a></code> function. A compressed folder that inludesthe data can be downloaded from <a href="https://gisportal.suffolkcountyny.gov/gis/home/item.html?id=8107f192ffac406380b6d61d3d3dbf7d">here</a>. After the data are downloaded and extracted, the Excel file with the raw data is named “Peconics SCDHS WQ data - up to 2019 so far.xlsx”, or something similar depending on when the data were downloaded. The location of this file on your computer is passed to the import function. Below, a local file renamed as “currentdata.xlsx” that contains the water quality data is downloaded.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/read_pepwq.html">read_pepwq</a></span>(<span class="st">'../inst/extdata/currentdata.xlsx'</span>)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(dat)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt; # A tibble: 6 x 7</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt;   BayStation bay_segment Date          yr    mo  chla    sd</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt;   &lt;chr&gt;      &lt;fct&gt;       &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt; 1 60130      Western     1976-07-20  1976     7  4.55  4.5 </span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt; 2 60170      Western     1976-07-20  1976     7  5.75  6   </span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt; 3 60210      Western     1976-07-20  1976     7  8.5   4   </span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt; 4 60220      Western     1976-07-20  1976     7 32.2   3.25</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co">#&gt; 5 60230      Western     1976-07-20  1976     7 29.4   4   </span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co">#&gt; 6 60240      Western     1976-07-20  1976     7 24.3   4.12</span></a></code></pre></div>
<p>The raw data includes multiple fields, but only the chlorophyll and secchi data are retained for reporting. Each station is grouped by major bay segment, defined as Western, Central, Eastern.</p>
<p>A quick view of the number of observations and length of record at each station shows that effort was not continuous.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">toplo &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="st">  </span><span class="kw">select</span>(bay_segment, BayStation, yr, chla, sd) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'chla'</span>, <span class="st">'sd'</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="st">  </span><span class="kw">group_by</span>(bay_segment, BayStation, yr, name) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="st">  </span><span class="kw">summarise</span>(<span class="st">`</span><span class="dt">Obs. (n)</span><span class="st">`</span> =<span class="st"> </span><span class="kw">n</span>())</a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7">p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(toplo, <span class="kw">aes</span>(<span class="dt">x =</span> yr, <span class="dt">y =</span> BayStation, <span class="dt">fill =</span> <span class="st">`</span><span class="dt">Obs. (n)</span><span class="st">`</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="st">  </span><span class="kw">geom_tile</span>()<span class="op">+</span><span class="st"> </span><span class="co">#colour = 'lightgrey') + </span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="st">  </span><span class="kw">facet_grid</span>(bay_segment <span class="op">~</span><span class="st"> </span>name, <span class="dt">scales =</span> <span class="st">'free_y'</span>, <span class="dt">space =</span> <span class="st">'free_y'</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="st">  </span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb3-12" title="12">    <span class="dt">panel.grid.major =</span> <span class="kw">element_blank</span>(), </a>
<a class="sourceLine" id="cb3-13" title="13">    <span class="dt">panel.grid.minor=</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb3-14" title="14">    <span class="dt">strip.background =</span> <span class="kw">element_blank</span>(), </a>
<a class="sourceLine" id="cb3-15" title="15">    <span class="dt">axis.title.x =</span> <span class="kw">element_blank</span>(), </a>
<a class="sourceLine" id="cb3-16" title="16">    <span class="dt">legend.position =</span> <span class="st">'top'</span>, </a>
<a class="sourceLine" id="cb3-17" title="17">    <span class="dt">axis.text.y =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">7</span>)</a>
<a class="sourceLine" id="cb3-18" title="18">  ) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-19" title="19"><span class="st">  </span><span class="kw">scale_fill_viridis_c</span>()</a>
<a class="sourceLine" id="cb3-20" title="20"></a>
<a class="sourceLine" id="cb3-21" title="21">p</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-4-1.png" width="1056" style="display: block; margin: auto;"></p>
<p>The function <code>anlz_pepdat()</code> summarizes the station data by bay segment. The funciton returns annual means for chlorophyll and secchi depth and monthly means by year for chlorophyll and secchi depth. These summaries are then used to determine if bay segment targets for water quality are met using the anlz_attain() and <code><a href="../reference/anlz_attainpep.html">anlz_attainpep()</a></code> function.</p>
<p>Below shows how to use <code>anlz_pepdat()</code> to summarize the data by bay segment to estimate annual and monthly means for chlorophyll and secchi depth. The output is a two-element list for the annual (ann) and monthly (mos) means by segment.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">medpep &lt;-<span class="st"> </span><span class="kw"><a href="../reference/anlz_medpep.html">anlz_medpep</a></span>(dat)</a>
<a class="sourceLine" id="cb4-2" title="2">medpep</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">#&gt; $ann</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#&gt; # A tibble: 792 x 5</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt;    bay_segment    yr   val est    var  </span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt;    &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt;  1 Western      1976  9.90 lwr.ci chla </span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">#&gt;  2 Western      1976 26.8  medv   chla </span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt;  3 Western      1976 44.9  upr.ci chla </span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="co">#&gt;  4 Western      1977 NA    lwr.ci chla </span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co">#&gt;  5 Western      1977 NA    medv   chla </span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="co">#&gt;  6 Western      1977 NA    upr.ci chla </span></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="co">#&gt;  7 Western      1978 NA    lwr.ci chla </span></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="co">#&gt;  8 Western      1978 NA    medv   chla </span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="co">#&gt;  9 Western      1978 NA    upr.ci chla </span></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="co">#&gt; 10 Western      1979 NA    lwr.ci chla </span></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="co">#&gt; # ... with 782 more rows</span></a>
<a class="sourceLine" id="cb4-18" title="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-19" title="19"><span class="co">#&gt; $mos</span></a>
<a class="sourceLine" id="cb4-20" title="20"><span class="co">#&gt; # A tibble: 3,168 x 6</span></a>
<a class="sourceLine" id="cb4-21" title="21"><span class="co">#&gt;    bay_segment    yr    mo   val est   var  </span></a>
<a class="sourceLine" id="cb4-22" title="22"><span class="co">#&gt;    &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb4-23" title="23"><span class="co">#&gt;  1 Western      1976     1  NA   medv  chla </span></a>
<a class="sourceLine" id="cb4-24" title="24"><span class="co">#&gt;  2 Western      1976     2  NA   medv  chla </span></a>
<a class="sourceLine" id="cb4-25" title="25"><span class="co">#&gt;  3 Western      1976     3  NA   medv  chla </span></a>
<a class="sourceLine" id="cb4-26" title="26"><span class="co">#&gt;  4 Western      1976     4  NA   medv  chla </span></a>
<a class="sourceLine" id="cb4-27" title="27"><span class="co">#&gt;  5 Western      1976     5  NA   medv  chla </span></a>
<a class="sourceLine" id="cb4-28" title="28"><span class="co">#&gt;  6 Western      1976     6  NA   medv  chla </span></a>
<a class="sourceLine" id="cb4-29" title="29"><span class="co">#&gt;  7 Western      1976     7  30.8 medv  chla </span></a>
<a class="sourceLine" id="cb4-30" title="30"><span class="co">#&gt;  8 Western      1976     8  40.4 medv  chla </span></a>
<a class="sourceLine" id="cb4-31" title="31"><span class="co">#&gt;  9 Western      1976     9  16.9 medv  chla </span></a>
<a class="sourceLine" id="cb4-32" title="32"><span class="co">#&gt; 10 Western      1976    10  NA   medv  chla </span></a>
<a class="sourceLine" id="cb4-33" title="33"><span class="co">#&gt; # ... with 3,158 more rows</span></a></code></pre></div>
<p>This output can then be further analyzed with <code><a href="../reference/anlz_attainpep.html">anlz_attainpep()</a></code> to determine if the bay segment outcomes are met in each year. The results are used by the plotting functions described below. In short, the <code>chl_sd</code> column indicates the categorical outcome for chlorophyll and light attenuation for each segment. The outcomes are integer values from zero to three. The relative exceedances of water quality thresholds for each segment, both in duration and magnitude, are indicated by higher integer values.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw"><a href="../reference/anlz_attainpep.html">anlz_attainpep</a></span>(medpep)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co">#&gt; # A tibble: 132 x 4</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">#&gt;    bay_segment    yr chla_sd outcome</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">#&gt;    &lt;fct&gt;       &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt;  1 Western      1976 3_3     red    </span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt;  2 Western      1977 NA_3    &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">#&gt;  3 Western      1978 NA_3    &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">#&gt;  4 Western      1979 NA_2    &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">#&gt;  5 Western      1980 NA_NA   &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="co">#&gt;  6 Western      1981 NA_3    &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="co">#&gt;  7 Western      1982 NA_NA   &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="co">#&gt;  8 Western      1983 NA_NA   &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="co">#&gt;  9 Western      1984 NA_NA   &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="co">#&gt; 10 Western      1985 NA_3    &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="co">#&gt; # ... with 122 more rows</span></a></code></pre></div>
</div>
<div id="plotting" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting" class="anchor"></a>Plotting</h2>
<p>The plotting functions are used to view long-term trends for each bay segment and annual results for the overall water quality assessment.</p>
<p>The <code>show_thrpep()</code> function provides a more descriptive assessment of annual trends for a chosen bay segment relative to thresholds. In this plot we show the annual medians and non-parametric confidence internals (95%) across stations for a segment. The red line shows annual trends and the horizontal blue line indicates the threshold for chlorophyll-a.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">show_thrpep</span>(rawdat, <span class="dt">bay_segment =</span> <span class="st">"Western"</span>, <span class="dt">param =</span> <span class="st">"chla"</span>)</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-7-1.png" width="768" style="display: block; margin: auto;"></p>
<p>We can show the same plot but for secchi depth by changing the <code>param = "chla"</code> to <code>param = "sd"</code>. Note the change in the horizontal reference lines for the secchi depth target. Secchi trends must also be interpreted inversely to chlorophyll, such that lower values generally indicate less desirable water quality.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">show_thrpep</span>(rawdat, <span class="dt">bay_segment =</span> <span class="st">"Western"</span>, <span class="dt">param =</span> <span class="st">"sd"</span>)</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-8-1.png" width="768" style="display: block; margin: auto;"></p>
<p>The year range to plot can also be specified using the <code>yrrng</code> argument, where the default is <code>yrrng = c(1976, 2019)</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">show_thrpep</span>(rawdat, <span class="dt">bay_segment =</span> <span class="st">"Western"</span>, <span class="dt">param =</span> <span class="st">"chla"</span>, <span class="dt">yrrng =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1988</span>, <span class="dv">2019</span>))</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-9-1.png" width="768" style="display: block; margin: auto;"></p>
<p>The <code>show_thrpep()</code> function uses results from the <code><a href="../reference/anlz_medpep.html">anlz_medpep()</a></code> function. For example, you can retrieve the values from the above plot as follows:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">rawdat <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="st">  </span>anlz_medpep <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="st">  </span>.[[<span class="st">'ann'</span>]] <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(bay_segment <span class="op">==</span><span class="st"> 'Western'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(var <span class="op">==</span><span class="st"> 'chla'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(yr <span class="op">&gt;=</span><span class="st"> </span><span class="dv">1988</span> <span class="op">&amp;</span><span class="st"> </span>yr <span class="op">&lt;=</span><span class="st"> </span><span class="dv">2019</span>)</a>
<a class="sourceLine" id="cb9-7" title="7"><span class="co">#&gt; # A tibble: 96 x 5</span></a>
<a class="sourceLine" id="cb9-8" title="8"><span class="co">#&gt;    bay_segment    yr   val est    var  </span></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="co">#&gt;    &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="co">#&gt;  1 Western      1988  10.1 lwr.ci chla </span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="co">#&gt;  2 Western      1988  11   medv   chla </span></a>
<a class="sourceLine" id="cb9-12" title="12"><span class="co">#&gt;  3 Western      1988  12.4 upr.ci chla </span></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="co">#&gt;  4 Western      1989   5.4 lwr.ci chla </span></a>
<a class="sourceLine" id="cb9-14" title="14"><span class="co">#&gt;  5 Western      1989   5.8 medv   chla </span></a>
<a class="sourceLine" id="cb9-15" title="15"><span class="co">#&gt;  6 Western      1989   6.3 upr.ci chla </span></a>
<a class="sourceLine" id="cb9-16" title="16"><span class="co">#&gt;  7 Western      1990   3.5 lwr.ci chla </span></a>
<a class="sourceLine" id="cb9-17" title="17"><span class="co">#&gt;  8 Western      1990   4   medv   chla </span></a>
<a class="sourceLine" id="cb9-18" title="18"><span class="co">#&gt;  9 Western      1990   4.7 upr.ci chla </span></a>
<a class="sourceLine" id="cb9-19" title="19"><span class="co">#&gt; 10 Western      1991   4   lwr.ci chla </span></a>
<a class="sourceLine" id="cb9-20" title="20"><span class="co">#&gt; # ... with 86 more rows</span></a></code></pre></div>
<p>Similarly, the <code>show_boxpep()</code> function provides an assessment of seasonal changes in chlorophyll or secchi depth values by bay segment. The most recent year is highlighted in red by default. This allows a simple evaluation of how the most recent year compared to historical averages. The threshold value is shown in blue text and as the dotted line. This is the same dotted line shown in <code>show_thrpep()</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">show_boxpep</span>(rawdat, <span class="dt">param =</span> <span class="st">'chla'</span>, <span class="dt">bay_segment =</span> <span class="st">"Western"</span>)</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-11-1.png" width="768" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">show_boxpep</span>(rawdat, <span class="dt">param =</span> <span class="st">'sd'</span>, <span class="dt">bay_segment =</span> <span class="st">"Eastern"</span>)</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-11-2.png" width="768" style="display: block; margin: auto;"></p>
<p>A different subset of years and selected year of interest can also be viewed by changing the <code>yrrng</code> and <code>yrsel</code> arguments. Here we show 1980 compared to monthly averages for the last ten years.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">show_boxpep</span>(rawdat, <span class="dt">param =</span> <span class="st">'chla'</span>, <span class="dt">bay_segment =</span> <span class="st">"Western"</span>, <span class="dt">yrrng =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">2008</span>, <span class="dv">2018</span>), <span class="dt">yrsel =</span> <span class="dv">1990</span>)</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-12-1.png" width="768" style="display: block; margin: auto;"></p>
<p>The <code>show_thrpep()</code> function is useful to understand annual variation in chlorophyll and secchi depth relative to thresholds for each bay segment. The information from these plots can provide an understanding of how the annual reporting outcomes are determined. An outcome integer from zero to three is assigned to each bay segment for each annual estimate of chlorophyll and secchi depth. These outcomes are based on both the exceedance of the annual estimate above the threshold (blue lines in <code>show_thrpep()</code>) and duration of the exceedance for the years prior. The following graphic describes this logic <span class="citation">[1]</span>.</p>
<div class="figure" style="text-align: center">
<img src="outints.png" alt="Outcomes for annual estimates of water quality are assigned an integer value from zero to three depending on both magnitude and duration of the exceedence." width="80%"><p class="caption">
Outcomes for annual estimates of water quality are assigned an integer value from zero to three depending on both magnitude and duration of the exceedence.
</p>
</div>
<p>For the Peconic Estuary, light attenuation is replaced with Secchi depth. The outcomes above are assigned for both chlorophyll and secchi depth. The duration criteria are determined based on whether the exceedance was observed for years prior to the current year. The exceedance criteria for chlorophyll and light-attenuation are currenlty the same for each segment. The pepreporting package contains a <code>peptargets</code> data file that is a reference for determining annual outcomes. This file is loaded automatically with the package and can be viewed from the command line.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">peptargets</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co">#&gt; # A tibble: 3 x 4</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co">#&gt;   bay_segment name    sd_thresh chla_thresh</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co">#&gt;   &lt;fct&gt;       &lt;chr&gt;       &lt;dbl&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="co">#&gt; 1 Western     Western       6.5         5.5</span></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="co">#&gt; 2 Central     Central       6.5         5.5</span></a>
<a class="sourceLine" id="cb13-7" title="7"><span class="co">#&gt; 3 Eastern     Eastern       6.5         5.5</span></a></code></pre></div>
<p>The final plotting function is <code>show_matrixpep()</code>, which creates an annual reporting matrix that reflects the combined outcomes for chlorophyll and secchi depth. Tracking the attainment outcomes provides the framework from which bay management actions can be developed and initiated. For each year and segment, a color-coded management action is assigned:</p>
<p><span style="color:#33FF3B; text-shadow: 0 0 3px #333;"><strong>Stay the Course</strong></span>: Continue planned projects. Report data via annual progress reports and Baywide Environmental Monitoring Report.</p>
<p><span style="color:#F9FF33; text-shadow: 0 0 3px #333;"><strong>Caution</strong></span>: Review monitoring data and nitrogen loading estimates. Begin/continue TAC and Management Board development of specific management recommendations.</p>
<p><span style="color:#FF3333; text-shadow: 0 0 3px #333;"><strong>On Alert</strong></span>: Finalize development and implement appropriate management actions to get back on track.</p>
<p>The management category or action is based on the combination of outcomes for chlorophyll and secchi depth <span class="citation">[1]</span>.</p>
<div class="figure" style="text-align: center">
<img src="matrixcats.PNG" alt="Management action categories assigned to each bay segment and year based on chlorophyll and secchi depth outcomes." width="80%"><p class="caption">
Management action categories assigned to each bay segment and year based on chlorophyll and secchi depth outcomes.
</p>
</div>
<p>The results can be viewed with <code>show_matrixpep()</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">show_matrixpep</span>(rawdat)</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-16-1.png" width="288" style="display: block; margin: auto;"></p>
<p>The matrix is also a <code>ggplot</code> object and its layout can be changed using <code>ggplot</code> elements. Note the use of <code>txtsz = NULL</code> to remove the color labels.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">show_matrixpep</span>(rawdat, <span class="dt">txtsz =</span> <span class="ot">NULL</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">expand =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>,<span class="dv">0</span>), <span class="dt">breaks =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1976</span><span class="op">:</span><span class="dv">2019</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust =</span> <span class="dv">1</span>, <span class="dt">size =</span> <span class="dv">7</span>))</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-17-1.png" width="768" style="display: block; margin: auto;"></p>
<p>If preferred, the matrix can also be returned in an HTML table that can be sorted and scrolled.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">show_matrixpep</span>(rawdat, <span class="dt">asreact =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-30d23038104bf6f25dc5" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-30d23038104bf6f25dc5">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"yr":[1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"Western":["red",null,null,null,null,null,null,null,null,null,null,null,"red","red","yellow","yellow","yellow","yellow","yellow","red","red","red","yellow","yellow","yellow","yellow","yellow","yellow","yellow","yellow","yellow","yellow","yellow","red","red","yellow","yellow","yellow","yellow","yellow","yellow","red","yellow","yellow"],"Central":[null,null,null,null,null,null,null,null,null,null,null,null,"red","green","yellow","yellow","yellow","green","green","yellow","green","green","green","green","green","green","green","green","green","green","green","green","green","green","yellow","green","yellow","green","green","yellow","yellow","yellow","yellow","green"],"Eastern":[null,null,null,null,null,null,null,null,null,null,null,null,"red","yellow","green","yellow","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","yellow","green","green","green","green","green","green","green"]},"columns":[{"accessor":"yr","name":"Year","type":"numeric","style":[{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null}]},{"accessor":"Western","name":"Western","type":"character","style":[{"background":"#FF3333"},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":"#FF3333"},{"background":"#FF3333"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#FF3333"},{"background":"#FF3333"},{"background":"#FF3333"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#FF3333"},{"background":"#FF3333"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#FF3333"},{"background":"#F9FF33"},{"background":"#F9FF33"}]},{"accessor":"Central","name":"Central","type":"character","style":[{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":"#FF3333"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#33FF3B"}]},{"accessor":"Eastern","name":"Eastern","type":"character","style":[{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":"#FF3333"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"}]}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"9884191142dd6f09680d76df1d58fd5b"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script><p>Use a sufficiently large number to view the entire matrix.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">show_matrixpep</span>(rawdat, <span class="dt">asreact =</span> <span class="ot">TRUE</span>, <span class="dt">nrows =</span> <span class="dv">200</span>)</a></code></pre></div>
<div id="htmlwidget-be28971d973334bc9b93" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-be28971d973334bc9b93">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"yr":[1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"Western":["red",null,null,null,null,null,null,null,null,null,null,null,"red","red","yellow","yellow","yellow","yellow","yellow","red","red","red","yellow","yellow","yellow","yellow","yellow","yellow","yellow","yellow","yellow","yellow","yellow","red","red","yellow","yellow","yellow","yellow","yellow","yellow","red","yellow","yellow"],"Central":[null,null,null,null,null,null,null,null,null,null,null,null,"red","green","yellow","yellow","yellow","green","green","yellow","green","green","green","green","green","green","green","green","green","green","green","green","green","green","yellow","green","yellow","green","green","yellow","yellow","yellow","yellow","green"],"Eastern":[null,null,null,null,null,null,null,null,null,null,null,null,"red","yellow","green","yellow","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","green","yellow","green","green","green","green","green","green","green"]},"columns":[{"accessor":"yr","name":"Year","type":"numeric","style":[{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null}]},{"accessor":"Western","name":"Western","type":"character","style":[{"background":"#FF3333"},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":"#FF3333"},{"background":"#FF3333"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#FF3333"},{"background":"#FF3333"},{"background":"#FF3333"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#FF3333"},{"background":"#FF3333"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#FF3333"},{"background":"#F9FF33"},{"background":"#F9FF33"}]},{"accessor":"Central","name":"Central","type":"character","style":[{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":"#FF3333"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#F9FF33"},{"background":"#33FF3B"}]},{"accessor":"Eastern","name":"Eastern","type":"character","style":[{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":null},{"background":"#FF3333"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#F9FF33"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"},{"background":"#33FF3B"}]}],"defaultPageSize":200,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"9884191142dd6f09680d76df1d58fd5b"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="testing-different-thresholds" class="section level2">
<h2 class="hasAnchor">
<a href="#testing-different-thresholds" class="anchor"></a>Testing different thresholds</h2>
<p>By default, all plotting functions use the <code>peptargets</code> data frame included with the package, which assigns a threshold of 6.5 ft for secchi depth and 5.5 ug/L for chlorophyll to all segments. All plotting arguments have an optional argument called <code>trgs</code> that accepts user-provided thresholds. A new data frame can be passed to this argument to evaluate different thresholds. The following demonstrates how to create a custom thresholds data frame (a tibble specifically) and use it to evaluate changes on reporting outcomes. For examples, perhaps less stringent thresholds are required for the Western segment (lower secchi, higher chlorophyll) and more stringent thresholds are required for the Eastern segment (higher secchi, lower chlorophyll).</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">segs &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'Western'</span>, <span class="st">'Central'</span>, <span class="st">'Eastern'</span>)</a>
<a class="sourceLine" id="cb18-2" title="2">newtrgs &lt;-<span class="st"> </span><span class="kw">tibble</span>( </a>
<a class="sourceLine" id="cb18-3" title="3">  <span class="dt">bay_segment =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(segs, <span class="dt">levels =</span> segs),</a>
<a class="sourceLine" id="cb18-4" title="4">  <span class="dt">name =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(segs, <span class="dt">levels =</span> segs),</a>
<a class="sourceLine" id="cb18-5" title="5">  <span class="dt">sd_thresh =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">5.5</span>, <span class="fl">6.5</span>, <span class="fl">7.5</span>),</a>
<a class="sourceLine" id="cb18-6" title="6">  <span class="dt">chla_thresh =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">6</span>, <span class="fl">5.5</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb18-7" title="7">)</a></code></pre></div>
<p>This new data frame can be passed to the plotting functions.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1">newthr &lt;-<span class="st"> </span><span class="kw">show_matrixpep</span>(rawdat, <span class="dt">trgs =</span> newtrgs, <span class="dt">yrrng =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1989</span>, <span class="dv">2019</span>))</a>
<a class="sourceLine" id="cb19-2" title="2">newthr</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-21-1.png" width="288" style="display: block; margin: auto;"></p>
<p>Comparing the default values with the new results can easily be done by plotting the two side by side.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">oldthr &lt;-<span class="st"> </span><span class="kw">show_matrixpep</span>(rawdat, <span class="dt">yrrng =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1989</span>, <span class="dv">2019</span>))</a>
<a class="sourceLine" id="cb20-2" title="2">oldthr <span class="op">+</span><span class="st"> </span>newthr <span class="op">+</span><span class="st"> </span><span class="kw">plot_layout</span>(<span class="dt">ncol =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-22-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-Janicki99">
<p>[1] A. Janicki, D. Wade, J.R. Pribble, Development of a process to track the status of chlorophyll and light attenuation to support seagrass restoration goals in Tampa Bay, Tampa Bay National Estuary Program, St. Petersburg, Florida, 1999. <a href="https://tbeptech.org/TBEP_TECH_PUBS/2000/TBEP_04_00Chlor-A.pdf">https://tbeptech.org/TBEP_TECH_PUBS/2000/TBEP_04_00Chlor-A.pdf</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#basic-use">Basic use</a></li>
      <li><a href="#plotting">Plotting</a></li>
      <li><a href="#testing-different-thresholds">Testing different thresholds</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Marcus Beck.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
